(this["webpackJsonpsafe-react"]=this["webpackJsonpsafe-react"]||[]).push([[53],{2119:function(e,t,n){"use strict";var a=n(3),r=n(40),c=n(698),s=n(705),i=n(717),o=n(715),d=n(0),l=["name","onChange","value"],u=["classes","disableError","formControlProps","input","label","meta","renderValue"],j={minWidth:"100%"};t.a=function(e){var t=e.classes,n=e.disableError,b=e.formControlProps,f=e.input,O=f.name,h=f.onChange,p=f.value,x=Object(r.a)(f,l),m=e.label,g=e.meta,v=e.renderValue,w=Object(r.a)(e,u),y=(g.submitError&&!g.dirtySinceLastSubmit||g.error)&&g.touched&&!n,S=Object(a.a)(Object(a.a)({},x),{},{name:O});return Object(d.jsxs)(c.a,Object(a.a)(Object(a.a)({},b),{},{error:y,style:j,children:[Object(d.jsx)(i.a,{htmlFor:O,children:m}),Object(d.jsx)(o.a,Object(a.a)({classes:t,inputProps:S,onChange:h,renderValue:v,value:p,variant:"outlined"},w)),y&&Object(d.jsx)(s.a,{children:g.error||g.submitError})]}))}},2142:function(e,t,n){"use strict";var a,r=n(10),c=n(9),s=n(0),i=c.default.button(a||(a=Object(r.a)(["\n  background: none;\n  color: inherit;\n  border: none;\n  padding: 0;\n  font: inherit;\n  cursor: pointer;\n  border-radius: 50%;\n  transition: background-color 0.2s ease-in-out;\n  outline-color: transparent;\n  height: 24px;\n  width: 24px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  :hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.colors.separator}));t.a=function(e){var t=e.onClick,n=void 0===t?function(){}:t,a=e.children,r=e.dataTestId;return Object(s.jsx)(i,{onClick:n,type:"button","data-testid":r,children:a})}},2276:function(e,t,n){"use strict";t.a=n.p+"static/media/safe-created.ad262168.svg"},2277:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n(65),c=function(){var e=Object(r.i)().search;return Object(a.useMemo)((function(){return new URLSearchParams(e)}),[e])}},3125:function(e,t,n){"use strict";n.r(t);var a,r,c,s=n(16),i=n(10),o=n(3),d=n(2),l=n.n(d),u=n(11),j=n(17),b=n(1),f=n.n(b),O=n(391),h=n(2278),p=n.n(h),x=n(9),m=n(21),g=n(1025),v=n.n(g),w=n(65),y=n(13),S=n(2173),C=n(156),k=n(81),E=n(2120),N=n(26),F=n(5),A=n(2511),T=n(253),P=n(157),I=n(59),R=n(254),_=n(255),M=n(57),z="customSafeName",L="suggestedSafeName",D="owners",G="safeOwnerENSList",B="newSafeThreshold",H="maxOwnerNumber",Y="safeCreationSalt",W="gasLimit",U="gasPrice",V="gasMaxPrioFee",q="safeCreationTxHash",J="NEW_SAFE_PENDING_CREATION_STORAGE_KEY",$=n(2195),K=n(2121),X=n(34),Q=n(28),Z=n(2147),ee=n(0);var te,ne,ae,re,ce,se,ie,oe,de,le=function(){var e=Object(b.useState)({}),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(m.d)(M.d),c=Object($.b)().setCurrentStep;Object(b.useEffect)((function(){r||c(0)}),[r,c]);var i=Object(T.d)(),d=i.getState().values,f=!!d.customSafeName;return Object(b.useEffect)((function(){return function(){f&&Object(Q.d)(Z.b.NAME_SAFE)}}),[f]),Object(b.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.getState().values,n=t.owners,e.next=4,Promise.all(n.filter((function(e){var n=e.addressFieldName;return!!t[n]})).map(function(){var e=Object(u.a)(l.a.mark((function e(n){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.addressFieldName,r=t[a],e.next=4,Object(X.l)(r);case 4:return c=e.sent,e.abrupt("return",{address:r,name:c});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=e.sent,c=r.reduce((function(e,t){var n=t.address,a=t.name;return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},n,a))}),{}),a(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i]),Object(b.useEffect)((function(){n&&i.change(G,n)}),[n,i]),Object(ee.jsxs)(ue,{"data-testid":"create-safe-name-step",children:[Object(ee.jsx)(C.a,{margin:"md",children:Object(ee.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["You are about to create a new Safe wallet with one or more owners. First, let's give your new wallet a name. This name is only stored locally and will never be shared with us or any third parties. The new Safe will ONLY be available on ",Object(ee.jsx)(K.a,{})]})}),Object(ee.jsx)("label",{htmlFor:z,children:"Name of the new Safe"}),Object(ee.jsx)(je,{margin:"lg",children:Object(ee.jsx)(P.a,{xs:11,children:Object(ee.jsx)(R.a,{component:_.a,name:z,placeholder:d.suggestedSafeName,label:"Safe name",type:"text",testId:"create-safe-name-field"})})}),Object(ee.jsx)(C.a,{margin:"lg",children:Object(ee.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["By continuing you consent to the"," ",Object(ee.jsx)(be,{href:"https://gnosis-safe.io/terms",rel:"noopener noreferrer",target:"_blank",children:"terms of use"})," and ",Object(ee.jsx)(be,{href:"https://gnosis-safe.io/privacy",rel:"noopener noreferrer",target:"_blank",children:"privacy policy"}),"."]})})]})},ue=Object(x.default)(C.a)(a||(a=Object(i.a)(["\n  padding: ",";\n"])),F.lg),je=Object(x.default)(C.a)(r||(r=Object(i.a)(["\n  display: flex;\n  max-width: 480px;\n  margin-top: 12px;\n"]))),be=x.default.a(c||(c=Object(i.a)(["\n  color: ",";\n"])),F.secondary),fe=n(2512),Oe=n(41),he=n(798),pe=n.n(he),xe=n(833),me=n(815),ge=n(2163),ve=n(181),we=n(2142),ye=n(2119),Se=n(166),Ce=n(158),ke=n(2110),Ee=n(179),Ne=n(82);var Fe,Ae,Te,Pe,Ie,Re=function(){var e=Object(m.d)(M.d),t=Object($.b)().setCurrentStep;Object(b.useEffect)((function(){e||t(0)}),[e,t]);var n=Object(T.d)(),a=Object(m.d)(Ee.f),r=n.getState().values,c=n.getState().errors||{},i=r.owners,d=r.safeOwnerENSList,j=r.newSafeThreshold,f=r.maxOwnerNumber,O=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(X.l)(t);case 2:a=e.sent,n.change(G,Object(o.a)(Object(o.a)({},d),{},Object(s.a)({},t,a)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(l.a.mark((function e(t,a,r){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.startsWith("ethereum:")?t.replace("ethereum:",""):t,e.next=3,O(c);case 3:n.change(r,c),a();case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)(_e,{"data-testid":"create-safe-owners-confirmation-step",children:[Object(ee.jsx)(Me,{color:"primary",noMargin:!0,size:"lg",children:"Your Safe will have one or more owners. We have prefilled the first owner with your connected wallet details, but you are free to change this to a different owner."}),Object(ee.jsxs)(I.a,{color:"primary",size:"lg",children:["Add additional owners (e.g. wallets of your teammates) and specify how many of them have to confirm a transaction before it gets executed. In general, the more confirmations required, the more secure your Safe is.",Object(ee.jsxs)(ze,{href:"https://help.gnosis-safe.io/en/articles/4772567-what-gnosis-safe- setup-should-i-use",target:"_blank",rel:"noreferrer",title:"Learn about which Safe setup to use",children:[Object(ee.jsx)(y.Text,{size:"xl",as:"span",color:"primary",children:"Learn about which Safe setup to use"}),Object(ee.jsx)(y.Icon,{size:"sm",type:"externalLink",color:"primary"})]}),". The new Safe will ONLY be available on ",Object(ee.jsx)(K.a,{})]})]}),Object(ee.jsx)(Se.a,{}),Object(ee.jsxs)(Le,{children:[Object(ee.jsx)(P.a,{xs:3,children:"NAME"}),Object(ee.jsx)(P.a,{xs:7,children:"ADDRESS"})]}),Object(ee.jsx)(Se.a,{}),Object(ee.jsxs)(C.a,{margin:"md",padding:"md",children:[Object(ee.jsx)(Le,{children:i.map((function(e,t){var s=e.nameFieldName,o=e.addressFieldName,p=c[o],x=r[o],m="owner-address-0"!==o,g=d[x]||"Owner Name";return Object(ee.jsxs)(b.Fragment,{children:[Object(ee.jsx)(P.a,{xs:3,children:Object(ee.jsx)(De,{component:_.a,name:s,placeholder:g,label:"Owner Name",type:"text",validate:Object(Ce.h)(0,50),testId:s})}),Object(ee.jsx)(P.a,{xs:7,children:Object(ee.jsx)(ge.a,{fieldMutator:function(){var e=Object(u.a)(l.a.mark((function e(t){var r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.change(o,t),!(c=null===(r=a[t])||void 0===r?void 0:r.name)){e.next=6;break}n.change(s,c),e.next=8;break;case 6:return e.next=8,O(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),inputAdornment:!p&&{endAdornment:Object(ee.jsx)(xe.a,{position:"end",children:Object(ee.jsx)(Ge,{"data-testid":"".concat(o,"-valid-adornment")})})},name:o,placeholder:"Owner Address*",text:"Owner Address",testId:o,validators:[function(e){return i.filter((function(e,n){return n!==t})).some((function(t){return Object(Ne.a)(r[t.addressFieldName],e)}))?Ce.a:void 0}]})}),Object(ee.jsx)(Be,{xs:1,center:"xs",middle:"xs",children:Object(ee.jsx)(ke.a,{handleScan:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.apply(void 0,t.concat([o]))},testId:"".concat(o,"-scan-QR")})}),m&&Object(ee.jsx)(Be,{xs:1,center:"xs",middle:"xs",children:Object(ee.jsx)(we.a,{onClick:function(){return function(e){var t=e.addressFieldName,a=i.filter((function(e){return e.addressFieldName!==t}));n.change(D,a),n.change(t,void 0);var r=f-1;n.change(H,r),j>a.length&&n.change(B,j-1)}({addressFieldName:o})},dataTestId:"".concat(o,"-remove-button"),children:Object(ee.jsx)(y.Icon,{size:"sm",type:"delete",color:"icon",tooltip:"Delete Owner"})})})]},o)}))}),Object(ee.jsx)(He,{align:"center",grow:!0,children:Object(ee.jsx)(ve.a,{color:"secondary","data-testid":"add-new-owner",onClick:function(){var e={nameFieldName:"owner-name-".concat(f),addressFieldName:"owner-address-".concat(f)};n.change(D,[].concat(Object(Oe.a)(i),[e]));var t=f+1;n.change(H,t)},children:Object(ee.jsx)(I.a,{noMargin:!0,size:"lg",children:"+ Add another owner"})})}),Object(ee.jsxs)(_e,{children:[Object(ee.jsx)(C.a,{children:Object(ee.jsx)(I.a,{children:"Any transaction requires the confirmation of:"})}),Object(ee.jsxs)(He,{align:"center",grow:!0,children:[Object(ee.jsx)(P.a,{xs:1,children:Object(ee.jsx)(R.a,{component:ye.a,"data-testid":"threshold-selector-input",name:B,validate:function(e){return Object(Ce.d)(Ce.p,Object(Ce.i)(1),(function(){return j&&j<=i.length?void 0:Ce.b}))(e)},children:i.map((function(e,t){return Object(ee.jsx)(me.a,{value:t+1,"data-testid":"threshold-selector-option-".concat(t+1),children:t+1},"threshold-selector-option-".concat(t))}))})}),Object(ee.jsx)(P.a,{xs:11,children:Object(ee.jsxs)(Ye,{noMargin:!0,children:["out of ",i.length," owner(s)"]})})]})]})]})]})},_e=Object(x.default)(C.a)(te||(te=Object(i.a)(["\n  padding: ",";\n"])),F.lg),Me=Object(x.default)(I.a)(ne||(ne=Object(i.a)(["\n  margin-bottom: 12px;\n"]))),ze=Object(x.default)(y.Link)(ae||(ae=Object(i.a)(["\n  padding: 0 ",";\n  & svg {\n    position: relative;\n    top: 1px;\n    left: ",";\n    height: 14px;\n    width: 14px;\n  }\n"])),F.xs,F.xs),Le=Object(x.default)(k.a)(re||(re=Object(i.a)(["\n  padding: "," ",";\n  font-size: ",";\n  color: ",";\n"])),F.sm,F.lg,F.extraSmallFontSize,F.disabled),De=Object(x.default)(R.a)(ce||(ce=Object(i.a)(["\n  margin-right: ",";\n  margin-bottom: ",";\n"])),F.md,F.md),Ge=Object(x.default)(pe.a)(se||(se=Object(i.a)(["\n  color: #03ae60;\n  height: 20px;\n"]))),Be=Object(x.default)(P.a)(ie||(ie=Object(i.a)(["\n  height: 56px;\n  max-width: 32px;\n  cursor: pointer;\n"]))),He=Object(x.default)(k.a)(oe||(oe=Object(i.a)(["\n  justify-content: center;\n"]))),Ye=Object(x.default)(I.a)(de||(de=Object(i.a)(["\n  padding-left: 12px;\n"]))),We=n(829),Ue=n(22),Ve=n(111),qe=n(164),Je=n(236),$e=n(73),Ke=n(143),Xe=function(){var e=Object(u.a)(l.a.mark((function e(t,n,a,r){var c,s,i,o,d,u,b,f,O,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Object(Ve.b)(r,n,t,a),Object($e.e)(),Object(Ke.e)()?Object($e.f)():{maxPriorityFeePerGas:0,maxFeePerGas:0}]);case 2:return c=e.sent,s=Object(j.a)(c,3),i=s[0],o=s[1],d=s[2],u=i*parseInt(o,10),b=Object($e.h)(d.maxPriorityFeePerGas,parseInt(o,10)),f=Object(Ue.m)(),O=Object(qe.a)(u,f.decimals),h=Object(Je.a)(O),e.abrupt("return",{gasPrice:o,gasEstimation:i,gasCostFormatted:h,gasLimit:i,gasMaxPrioFee:b,gasMaxPrioFeeFormatted:Object(Je.a)(b.toString())});case 13:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Qe=n(90);var Ze=function(){var e=Object(m.d)(M.d),t=Object($.b)().setCurrentStep;Object(b.useEffect)((function(){e||t(0)}),[e,t]);var n=Object(T.d)(),a=n.getState().values,r=a.suggestedSafeName,c=a.customSafeName||r,s=a.newSafeThreshold,i=a.owners,o=a.safeOwnerENSList,d=i.length,l=a.safeCreationSalt,u=function(e){var t=e.addresses,n=e.numOwners,a=e.safeCreationSalt,r=Object(b.useState)({gasEstimation:0,gasCostFormatted:"> 0.001",gasLimit:0,gasPrice:"0",gasMaxPrioFee:0,gasMaxPrioFeeFormatted:"0"}),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(m.d)(M.g),d=JSON.stringify(t);return Object(b.useEffect)((function(){var e,t=JSON.parse(d);t.length&&n&&o&&(null===(e=Xe(o,n,a,t))||void 0===e||e.then(i))}),[n,a,d,o]),s}({addresses:i.map((function(e){var t=e.addressFieldName;return a[t]})),numOwners:d,safeCreationSalt:l}),O=u.gasCostFormatted,h=u.gasLimit,p=u.gasPrice,x=u.gasMaxPrioFee,g=Object(Ue.m)();return Object(b.useEffect)((function(){n.change(W,h),n.change(U,p),n.change(V,x)}),[h,p,n,x]),Object(ee.jsxs)(k.a,{"data-testid":"create-safe-review-step",children:[Object(ee.jsx)(P.a,{xs:4,layout:"column",children:Object(ee.jsxs)(et,{children:[Object(ee.jsx)(C.a,{margin:"lg",children:Object(ee.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"Details"})}),Object(ee.jsxs)(C.a,{margin:"lg",children:[Object(ee.jsx)(I.a,{color:"disabled",noMargin:!0,size:"sm",children:"Name of new Safe"}),Object(ee.jsx)(tt,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-safe-name",children:c})]}),Object(ee.jsxs)(C.a,{margin:"lg",children:[Object(ee.jsx)(I.a,{color:"disabled",noMargin:!0,size:"sm",children:"Any transaction requires the confirmation of:"}),Object(ee.jsx)(I.a,{color:"primary",noMargin:!0,size:"md",weight:"bolder","data-testid":"create-safe-review-threshold-label",children:"".concat(s," out of ").concat(d," owners")})]})]})}),Object(ee.jsx)(P.a,{layout:"column",xs:8,children:Object(ee.jsxs)(We.a,{children:[Object(ee.jsx)(nt,{children:Object(ee.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"".concat(d," Safe owners")})}),Object(ee.jsx)(Se.a,{}),i.map((function(e){var t=e.nameFieldName,n=e.addressFieldName,r=a[n],c=a[t]||o[r];return Object(ee.jsxs)(f.a.Fragment,{children:[Object(ee.jsx)(at,{children:Object(ee.jsx)(P.a,{align:"center",xs:12,"data-testid":"create-safe-owner-details-".concat(r),children:Object(ee.jsx)(Qe.a,{hash:r,name:c,showAvatar:!0,showCopyBtn:!0,explorerUrl:Object(Ue.i)(r)})})}),Object(ee.jsx)(Se.a,{})]},"owner-".concat(n))}))]})}),Object(ee.jsx)(rt,{align:"center",children:Object(ee.jsxs)(I.a,{color:"primary",noMargin:!0,size:"lg",children:["You're about to create a new Safe on ",Object(ee.jsx)(K.a,{})," and will have to confirm a transaction with your currently connected wallet. The creation will cost approximately ",O," ",g.symbol,". The exact amount will be determined by your wallet."]})})]})},et=Object(x.default)(C.a)(Fe||(Fe=Object(i.a)(["\n  padding: ",";\n  border-right: solid 1px ",";\n  height: 100%;\n"])),F.lg,F.border),tt=Object(x.default)(I.a)(Ae||(Ae=Object(i.a)(["\n  text-overflow: ellipsis;\n  overflow: hidden;\n"]))),nt=Object(x.default)(C.a)(Te||(Te=Object(i.a)(["\n  padding: ",";\n"])),F.lg),at=Object(x.default)(k.a)(Pe||(Pe=Object(i.a)(["\n  align-items: center;\n  min-width: fit-content;\n  padding: ",";\n  padding-left: ",";\n"])),F.sm,F.lg),rt=Object(x.default)(k.a)(Ie||(Ie=Object(i.a)(["\n  background-color: ",";\n  padding: ",";\n  text-align: center;\n"])),F.background,F.lg),ct=n(115),st=n(1015),it=n(46),ot=n(29);function dt(e){return lt.apply(this,arguments)}function lt(){return(lt=Object(u.a)(l.a.mark((function e(t){var n,a,r,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sender,a=t.hash,r=t.nonce,c=t.data,s=Object(X.g)(),e.next=4,s.eth.getBlock("latest",!0);case 4:return i=e.sent,o=i.transactions.find((function(e){return Object(it.f)(e.from,n)&&e.nonce===r&&!Object(Ne.a)(e.hash,a)&&Object(Ne.a)(e.input,c)})),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut,jt,bt,ft,Ot=function e(t,n){var a=t.sender,r=t.hash,c=t.data,s=t.nonce,i=t.gasPrice,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,j=Object(X.g)();return new Promise((function(t,b){var f,O=(n||{}).maxRetries;if(d>(void 0===O?720:O))b(new ot.a(ot.b._805,"max retries reached"));else{var h=function(){var f=Object(u.a)(l.a.mark((function u(){var f,O,h,p,x;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(null!=s&&null!=i){l.next=12;break}return f={sender:a,hash:r,data:c},l.prev=2,l.next=5,j.eth.getTransaction(r);case 5:(O=l.sent)&&(f=Object(o.a)(Object(o.a)({},f),{},{nonce:O.nonce,gasPrice:O.gasPrice})),l.next=11;break;case 9:l.prev=9,l.t0=l.catch(2);case 11:return l.abrupt("return",e(f,n,d+1).then(t).catch(b));case 12:return l.prev=12,l.next=15,j.eth.getTransactionReceipt(r);case 15:if(!(h=l.sent)){l.next=18;break}return l.abrupt("return",t(h));case 18:l.next=22;break;case 20:l.prev=20,l.t1=l.catch(12);case 22:return l.prev=22,l.next=25,dt({sender:a,hash:r,nonce:s,data:c});case 25:if(!(p=l.sent)){l.next=33;break}return l.next=29,j.eth.getTransactionReceipt(p.hash);case 29:if(!(x=l.sent)){l.next=32;break}return l.abrupt("return",t(x));case 32:return l.abrupt("return",e({sender:a,nonce:s,hash:p.hash,data:p.input,gasPrice:p.gasPrice},n,d+1).then(t).catch(b));case 33:l.next=37;break;case 35:l.prev=35,l.t2=l.catch(22);case 37:e({sender:a,hash:r,data:c,nonce:s,gasPrice:i},n,d+1).then(t).catch(b);case 38:case"end":return l.stop()}}),u,null,[[2,9],[12,20],[22,35]])})));return function(){return f.apply(this,arguments)}}();setTimeout(h,null!==(f=null===n||void 0===n?void 0:n.delay)&&void 0!==f?f:5e3)}}))},ht=n(107),pt=Object(x.default)(ve.a)(ut||(ut=Object(i.a)(["\n  margin-right: 16px;\n"]))),xt=x.default.div(jt||(jt=Object(i.a)(["\n  width: 100%;\n  height: 76px;\n\n  button {\n    margin-top: 24px;\n  }\n"]))),mt=x.default.span(bt||(bt=Object(i.a)(["\n  margin-left: 10px;\n"]))),gt=function(){return Object(ee.jsx)(I.a,{size:"lg",color:"primary",children:"This process should take a couple of minutes."})},vt=function(e){var t=e.onCancel,n=e.onRetry;return Object(ee.jsxs)(xt,{children:[Object(ee.jsx)(Se.a,{}),Object(ee.jsx)(pt,{onClick:t,variant:"contained",children:"Cancel"}),Object(ee.jsx)(ve.a,{color:"primary",onClick:n,variant:"contained",children:"Retry"})]})},wt=[{id:"1",label:"Waiting for transaction confirmation",description:void 0,instruction:"Please confirm the Safe creation in your wallet",footerComponent:null},{id:"2",label:"Transaction submitted",description:void 0,instruction:"Please do not leave the page",footerComponent:gt},{id:"3",label:"Validating transaction",description:void 0,instruction:"Please do not leave the page",footerComponent:gt},{id:"4",label:"Deploying smart contract",description:void 0,instruction:"Please do not leave the page",footerComponent:gt},{id:"5",label:"Generating your Safe",description:void 0,instruction:"Please do not leave the page",footerComponent:gt},{id:"6",label:"Success",description:"Your Safe was created successfully",instruction:void 0,footerComponent:function(e){var t=e.continueButtonDisabled,n=e.onContinue;return Object(ee.jsxs)(xt,{children:[Object(ee.jsx)(Se.a,{}),Object(ee.jsx)(ht.a,Object(o.a)(Object(o.a)({},Z.b.GET_STARTED),{},{children:Object(ee.jsx)(ve.a,{color:"primary",disabled:t,onClick:n,variant:"contained","data-testid":"continue-btn",children:t?Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(y.Loader,{size:"xs",color:"secondaryLight"})," ",Object(ee.jsx)(mt,{children:"Loading your Safe"})]}):Object(ee.jsx)(ee.Fragment,{children:"Get started"})})}))]})}}],yt=n(126),St=n(2276),Ct=n.p+"static/media/vault-error.17985c86.svg",kt=n.p+"static/media/creation-process.b0164935.gif",Et=n(140),Nt=n(89),Ft=n(2586),At=n.n(Ft),Tt=n(201),Pt=n(78),It=n(33);At.a.addABI(null===(ft=Object(Tt.getProxyFactoryDeployment)({version:It.p}))||void 0===ft?void 0:ft.abi);var Rt,_t,Mt,zt,Lt,Dt,Gt,Bt,Ht,Yt,Wt,Ut,Vt,qt,Jt,$t,Kt=function(e){var t,n=At.a.decodeLogs(e).find((function(e){return"ProxyCreation"===e.name})),a=null===n||void 0===n||null===(t=n.events)||void 0===t?void 0:t.find((function(e){return"proxy"===e.name}));return Object(Pt.a)((null===a||void 0===a?void 0:a.value)||"")},Xt=n(372),Qt=function(e){var t,n=e.creationTxHash,a=e.onCancel,r=e.onRetry,c=e.onSuccess,s=e.submittedPromise,i=Object(b.useState)(!0),d=Object(j.a)(i,2),f=d[0],O=d[1],h=Object(b.useState)(0),p=Object(j.a)(h,2),x=p[0],g=p[1],v=Object(b.useState)(""),w=Object(j.a)(v,2),S=w[0],C=w[1],k=Object(b.useState)(""),E=Object(j.a)(k,2),N=E[0],F=E[1],A=Object(b.useState)(!1),T=Object(j.a)(A,2),P=T[0],I=T[1],R=Object(b.useState)(!1),_=Object(j.a)(R,2),z=_[0],L=_[1],D=Object(b.useState)(!1),G=Object(j.a)(D,2),B=G[0],H=G[1],Y=Object(b.useState)(!1),W=Object(j.a)(Y,2),U=W[0],V=W[1],q=Object(m.d)(M.d),J=Object(m.c)(),$=function(e){return 0===e}(x),K=Object(b.useCallback)((function(e){Object(X.j)(e)?J(Object(Nt.h)(Et.a.TX_PENDING_MSG)):J(Object(Nt.h)(Object(o.a)(Object(o.a)({},Et.a.CREATE_SAFE_FAILED_MSG),{},{message:"".concat(Et.a.CREATE_SAFE_FAILED_MSG.message," \u2013 ").concat(e.message)})))}),[J]),te=Object(b.useCallback)((function(e){L(!1),H(!1),V(!1),I(!0),Object(ot.c)(ot.b._800,e.message),K(e)}),[L,H,V,I,K]),ne=function(){g(0),I(!1),r()};return Object(b.useEffect)((function(){q&&O(!1)}),[q]),Object(b.useEffect)((function(){if(void 0!==s){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(0),e.prev=1,e.next=4,s;case 4:t=e.sent,C(t.transactionHash),g(1),L(!0),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),Object(Xt.a)(e.t0)&&Object(Q.d)(Z.b.REJECT_CREATE_SAFE),te(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}}),[s,te]),Object(b.useEffect)((function(){void 0!==n&&(C(n),g(1),L(!0))}),[n]),Object(b.useEffect)((function(){if(z){var e=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(X.g)(),e.next=3,n.eth.getTransaction(t);case 3:if(null!=(null===(a=e.sent)||void 0===a?void 0:a.blockNumber)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,n.eth.getTransactionReceipt(t);case 8:if(null===(r=e.sent)||void 0===r?void 0:r.status){e.next=11;break}throw Error("TX status reverted");case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=setInterval(Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x<4&&g(x+1),void 0!==s&&s.then((function(){g(4),H(!0),L(!1)})),void 0===n){t.next=13;break}return t.prev=3,t.next=6,e(n);case 6:t.sent&&(g(4),H(!0),L(!1)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),te(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),3e3);return function(){clearInterval(t)}}}),[n,s,z,x,P,te]),Object(b.useEffect)((function(){var e,t=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object(X.g)(),t.next=4,a.eth.getTransactionReceipt(n);case 4:r=t.sent,c="",c=(null===r||void 0===r?void 0:r.events)?r.events.ProxyCreation.returnValues.proxy:Kt((null===r||void 0===r?void 0:r.logs)||[]),F(c),e=setInterval(Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$e.c,e.prev=1,e.next=4,a.eth.getCode(c);case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:t!==$e.c&&(g(5),I(!1));case 11:case"end":return e.stop()}}),e,null,[[1,7]])}))),1e3),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),te(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}();if(B)return"string"===typeof S&&t(S),function(){clearInterval(e)}}),[S,B,te]),f||void 0===x?Object(ee.jsx)(Zt,{"data-testid":"create-safe-loader",children:Object(ee.jsx)(y.Loader,{size:"md"})}):(P?t=vt:wt[x].footerComponent&&(t=wt[x].footerComponent),Object(ee.jsxs)(en,{children:[Object(ee.jsx)(tn,{tag:"h2",testId:"safe-creation-process-title",children:"Safe creation process"}),Object(ee.jsx)(nn,{children:Object(ee.jsx)(y.Stepper,{activeStepIndex:x,error:P,orientation:"vertical",steps:wt})}),Object(ee.jsxs)(an,{children:[Object(ee.jsx)(on,{children:Object(ee.jsx)(yt.a,{alt:"Vault",height:92,src:P?Ct:x<=4?kt:St.a})}),Object(ee.jsx)(dn,{children:Object(ee.jsx)(rn,{children:wt[x].description||wt[x].label})}),wt[x].instruction&&Object(ee.jsx)(ln,{children:Object(ee.jsx)(cn,{color:"primary",inversecolors:$.toString(),noMargin:!0,size:"md",$stepIndex:x,children:P?"You can Cancel or Retry the Safe creation process.":wt[x].instruction})}),wt[x].instruction&&n?Object(ee.jsxs)(un,{children:["Your Safe creation transaction:",Object(ee.jsx)("br",{}),Object(ee.jsx)(sn,{children:Object(ee.jsx)(Qe.a,{hash:n,showCopyBtn:!0,explorerUrl:Object(Ue.i)(n)})})]}):null,Object(ee.jsx)(jn,{children:t?Object(ee.jsx)(t,{continueButtonDisabled:U,onCancel:a,onClick:ne,onContinue:function(){V(!0),c(N)},onRetry:ne,safeCreationTxHash:S}):null})]})]}))},Zt=x.default.div(Rt||(Rt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),en=x.default.div(_t||(_t=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 250px auto;\n  grid-template-rows: 43px auto;\n  margin-bottom: 30px;\n"]))),tn=Object(x.default)(E.a)(Mt||(Mt=Object(i.a)(["\n  grid-column: 1/3;\n  grid-row: 1;\n  margin: 7px 0 0 0 !important;\n"]))),nn=x.default.div(zt||(zt=Object(i.a)(["\n  grid-column: 1;\n  grid-row: 2;\n"]))),an=x.default.div(Lt||(Lt=Object(i.a)(["\n  grid-column: 2;\n  grid-row: 2;\n  text-align: center;\n  background-color: ",";\n  border-radius: 5px;\n  min-width: 700px;\n  padding-top: 70px;\n  box-shadow: 0 0 10px 0 rgba(33, 48, 77, 0.1);\n\n  display: grid;\n  grid-template-rows: 100px 50px 110px 1fr;\n"])),(function(e){return e.theme.colors.white})),rn=x.default.div(Dt||(Dt=Object(i.a)(["\n  font-size: 20px;\n  padding-top: 10px;\n"]))),cn=Object(x.default)(I.a)(Gt||(Gt=Object(i.a)(["\n  background-color: ",";\n  color: ",";\n  padding: 28px;\n  font-size: 20px;\n  margin-bottom: 16px;\n  transition: color 0.3s ease-in-out, background-color 0.3s ease-in-out;\n"])),(function(e){return 0===e.$stepIndex?F.connected:F.background}),(function(e){var t=e.theme;return 0===e.$stepIndex?t.colors.white:F.fontColor})),sn=x.default.div(Bt||(Bt=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  z-index: 2;\n  margin-bottom: -10px;\n"]))),on=x.default.div(Ht||(Ht=Object(i.a)(["\n  grid-row: 1;\n"]))),dn=x.default.div(Yt||(Yt=Object(i.a)(["\n  grid-row: 2;\n"]))),ln=x.default.div(Wt||(Wt=Object(i.a)(["\n  grid-row: 3;\n  margin: 27px 0;\n"]))),un=x.default.div(Ut||(Ut=Object(i.a)(["\n  grid-row: 4;\n  margin: 3em 0;\n  font-size: 0.8em;\n"]))),jn=x.default.div(Vt||(Vt=Object(i.a)(["\n  grid-row: 5;\n\n  padding: 10px 0;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n"]))),bn=n(520),fn=n(754),On=n(2204),hn=n(240),pn=n(234),xn=n(69),mn=n(530),gn=n(2277),vn=n(590),wn=Object(x.default)(Qe.a)(qt||(qt=Object(i.a)(["\n  display: inline-flex;\n"]))),yn=x.default.div(Jt||(Jt=Object(i.a)(["\n  text-align: center;\n"]))),Sn=x.default.span($t||($t=Object(i.a)(["\n  font-weight: ",";\n"])),F.boldFont),Cn=function(){N.u.push(N.l)},kn=function(e){return new Promise((function(t){return setTimeout(t,e)}))},En=function(e){var t="[ethjs-query] while formatting outputs from RPC ";if(!e.message.startsWith(t))return e;var n=e.message.split(t).pop()||"",a="";try{a=JSON.parse(n.slice(1,-1)).value.message}catch(r){a=""}return a?new Error(a):e},Nn=function(){return Object(ct.b)(J)||Cn()},Fn=function(e,t){if(!e)return Promise.reject(new Error("No user address"));var n=Nn();return n?new Promise((function(a,r){var c=n.newSafeThreshold,i=n.owners.map((function(e){var t=e.addressFieldName;return n[t]})),d=n.gasLimit,l=n.gasPrice,u=n.gasMaxPrioFee,j=Date.now(),b=Object(Ve.i)(i,c,j),f=Object(Ke.b)(e,{ethGasLimit:d.toString(),ethGasPriceInGWei:l,ethMaxPrioFeeInGWei:u.toString()});b.send(f).once("transactionHash",(function(c){var i;Object(Q.d)(Z.b.SUBMIT_CREATE_SAFE),t(c),Object(ct.f)(J,Object(o.a)(Object(o.a)({},n),{},(i={},Object(s.a)(i,Y,j),Object(s.a)(i,q,c),i))),Ot({sender:e,hash:c,data:b.encodeABI()}).then((function(e){Object(mn.a)(e)?r(new Error("Sped-up tx reverted")):(console.log("Sped-up tx mined:",e),Object(Q.d)(Z.b.CREATED_SAFE),a(e))})).catch((function(e){r(En(e))}))})).then((function(e){console.log("Original tx mined:",e),Object(Q.d)(Z.b.CREATED_SAFE),a(e)})).catch((function(e){r(En(e))}))})):Promise.reject(new Error("No saved Safe creation"))},An=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(st.backOff)((function(){return Object(fn.a)(t)}),{startingDelay:750,maxDelay:2e4,numOfAttempts:19,retry:function(e){return console.info("waiting for client-gateway to provide safe information",e),!0}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Tn,Pn,In,Rn,_n,Mn=function(){var e=Object(b.useState)(),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(b.useState)(),c=Object(j.a)(r,2),s=c[0],i=c[1],d=Object(m.c)(),f=Object(m.d)(M.g),O=Object(m.d)(xn.a),h=Object(gn.a)().get("redirect"),p=Object(b.useState)(!1),x=Object(j.a)(p,2),g=x[0],v=x[1],w=Object(b.useState)({safeAddress:""}),S=Object(j.a)(w,2),C=S[0],k=S[1],E=Object(b.useState)(!1),F=Object(j.a)(E,2),A=F[0],T=F[1],P=Object(b.useState)(""),R=Object(j.a)(P,2),_=R[0],z=R[1];Object(b.useEffect)((function(){var e=Nn();if(e){var t=e.safeCreationTxHash;t?a(t):i(Fn(f,a))}}),[f]);var L=function(){var e=Object(u.a)(l.a.mark((function e(t){var n,a,r,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nn(),a=n.suggestedSafeName,r=n.customSafeName||a,c=n.owners,s=c.map((function(e){var t=e.nameFieldName,a=e.addressFieldName,r=n[a];return Object(pn.b)({address:n[a],name:n[t]||n.safeOwnerENSList[r],chainId:O})})),i=Object(pn.b)({address:t,name:r,chainId:O}),d(Object(hn.f)([].concat(Object(Oe.a)(s),[i]))),e.next=9,kn(5e3);case 9:return e.prev=9,e.next=12,An(t);case 12:e.next=19;break;case 14:return e.prev=14,e.t0=e.catch(9),z(t),T(!0),e.abrupt("return");case 19:return e.next=21,Object(On.a)(t);case 21:o=e.sent,d(Object(bn.b)(o)),v(!0),k({safeAddress:o.address,safeName:r,safeCreationTxHash:n.safeCreationTxHash});case 25:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){Object(Q.d)(Z.b.CANCEL_CREATE_SAFE),Object(ct.d)(J),Cn()},G=function(){Object(ct.d)(J);var e=C.safeName,t=C.safeCreationTxHash,n=C.safeAddress;if(h)return h.includes(N.a)?N.u.push({pathname:Object(N.p)(h,{shortName:Object(Ue.q)(),safeAddress:n})}):N.u.push({pathname:h}),void(h.includes("appUrl")&&Object(Q.d)(Object(o.a)({},vn.a.SHARED_APP_OPEN_AFTER_SAFE_CREATION)));N.u.push({pathname:Object(N.p)(N.i.DASHBOARD,{shortName:Object(Ue.q)(),safeAddress:n}),state:{name:e,tx:t}})};return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)(Qt,{creationTxHash:n,onCancel:D,onRetry:function(){Object(Q.d)(Z.b.RETRY_CREATE_SAFE);var e=Nn();e&&(a(void 0),Object(ct.f)(J,Object(o.a)(Object(o.a)({},e),{},{safeCreationTxHash:void 0})),i(Fn(f,a)))},onSuccess:L,submittedPromise:s}),g&&Object(ee.jsx)(y.GenericModal,{onClose:G,title:"Safe Created!",body:Object(ee.jsxs)("div",{"data-testid":"safe-created-popup",children:[Object(ee.jsxs)(I.a,{children:["You just created a new Safe on ",Object(ee.jsx)(K.a,{})]}),Object(ee.jsxs)(I.a,{children:["You will only be able to use this Safe on ",Object(ee.jsx)(K.a,{})]}),Object(ee.jsxs)(I.a,{children:["If you send assets on other networks to this address,"," ",Object(ee.jsx)(Sn,{children:"you will not be able to access them"})]})]}),footer:Object(ee.jsx)(yn,{children:Object(ee.jsx)(ht.a,Object(o.a)(Object(o.a)({},Z.b.GO_TO_SAFE),{},{children:Object(ee.jsx)(ve.a,{testId:"safe-created-button",onClick:G,color:"primary",type:"button",size:"small",variant:"contained",children:"Continue"})}))})}),A&&_&&Object(ee.jsx)(y.GenericModal,{onClose:D,title:"Unable to load the new Safe",body:Object(ee.jsx)("div",{children:Object(ee.jsxs)(I.a,{children:["We are currently unable to load the Safe but it was successfully created and can be found ",Object(ee.jsx)("br",{}),"under the following address"," ",Object(ee.jsx)(wn,{hash:_,showCopyBtn:!0,explorerUrl:Object(Ue.i)(_)})]})}),footer:Object(ee.jsx)(yn,{children:Object(ee.jsx)(ve.a,{onClick:D,color:"primary",type:"button",size:"small",variant:"contained",children:"OK"})})})]})},zn=n(2589),Ln=n(2590),Dn=n(233),Gn=n.n(Dn),Bn=n(2591),Hn=n(1991),Yn=n(270),Wn=n(241),Un=n(943),Vn=n(114),qn=n(1062);var Jn,$n,Kn=Object(x.default)(C.a)(Tn||(Tn=Object(i.a)(["\n  padding: ",";\n"])),F.lg),Xn=x.default.div(Pn||(Pn=Object(i.a)(["\n  padding: 30px 0;\n  padding-left: 45px;\n\n  > button {\n    margin: auto;\n  }\n"]))),Qn=Object(x.default)(Ln.a)(In||(In=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 24px;\n"]))),Zn=Object(x.default)(Bn.a)(Rn||(Rn=Object(i.a)(["\n  min-width: 500px;\n"]))),ea=x.default.div(_n||(_n=Object(i.a)(["\n  display: flex;\n  margin: "," auto;\n  cursor: pointer;\n  max-width: 50%;\n\n  & > span {\n    font-size: 13px;\n  }\n"])),F.lg),ta=function(){var e=Object(b.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],r=!!Object(m.d)(M.a),c=Object(m.d)(M.f),s=Object(b.useCallback)((function(e){Object(Wn.a)(e),a(!1)}),[]);return Object(ee.jsxs)(Kn,{"data-testid":"select-network-step",children:[r?Object(ee.jsxs)(ee.Fragment,{children:[!c&&Object(ee.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"Wallet connected."}),Object(ee.jsxs)(I.a,{color:"primary",size:"lg",noMargin:c,children:["Creating a Safe on\xa0",Object(ee.jsx)(K.a,{onClick:function(){a(!0)},"data-testid":"switch-network-link"})]})]}):Object(ee.jsx)(I.a,{color:"primary",noMargin:!0,size:"lg",children:"In order to create your Safe, you need to connect a wallet"}),!r&&Object(ee.jsx)(Xn,{children:Object(ee.jsx)(qn.a,{})}),r&&c&&Object(ee.jsxs)(I.a,{color:"primary",size:"lg",children:["Your wallet connection must match the selected network. ",Object(ee.jsx)(Un.a,{})]}),Object(ee.jsxs)(zn.a,{onClose:function(){return a(!1)},"aria-labelledby":"select-network","data-testid":"select-network-popup",open:n,children:[Object(ee.jsxs)(Qn,{disableTypography:!0,children:[Object(ee.jsx)(Yn.a,{variant:"h5",children:"Select Network"}),Object(ee.jsx)(O.a,{"aria-label":"close",onClick:function(){return a(!1)},children:Object(ee.jsx)(Gn.a,{})})]}),Object(ee.jsx)(Zn,{dividers:!0,children:Object(ee.jsx)(Hn.a,{component:"div",children:Object(Vn.b)().map((function(e){return Object(ee.jsx)(ea,{role:"button",onClick:function(){return s(e.chainId)},children:Object(ee.jsx)(K.a,{networkInfo:e,flexGrow:!0})},e.chainId)}))})})]})]})};t.default=function(){var e=Object(b.useState)(),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(b.useState)(!0),c=Object(j.a)(r,2),s=c[0],i=c[1],d=Object(m.d)(M.d),f=Object(m.d)(M.f),O=!!d&&!f;Object(b.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,Promise.resolve(Object(ct.b)(J));case 3:t=e.sent,O&&a(t),i(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O]);var h=Object(m.d)(M.g),x=Object(m.d)(Ee.f),g=Object(w.i)(),v=Object(fe.a)(),F=Object(b.useState)(),T=Object(j.a)(F,2),P=T[0],I=T[1];if(Object(b.useEffect)((function(){var e=!0;if(O&&h){var t=function(){var t=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,na(h,x,g,v);case 2:n=t.sent,e&&I(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}return function(){e=!1}}),[O,h,x,g,v]),s)return Object(ee.jsx)(ra,{"data-testid":"create-safe-loader",children:Object(ee.jsx)(y.Loader,{size:"md"})});var R=!O||!P;return n?Object(ee.jsx)(Mn,{}):Object(ee.jsx)(S.a,{children:Object(ee.jsxs)(C.a,{children:[Object(ee.jsxs)(k.a,{align:"center",children:[Object(ee.jsx)(ca,{disableRipple:!0,onClick:N.u.goBack,children:Object(ee.jsx)(p.a,{})}),Object(ee.jsx)(E.a,{tag:"h2",children:"Create new Safe"})]}),Object(ee.jsxs)(A.b,{initialValues:P,onSubmit:function(e){Object(Q.d)(Object(o.a)(Object(o.a)({},Z.b.OWNERS),{},{label:e.owners.length})),Object(Q.d)(Object(o.a)(Object(o.a)({},Z.b.THRESHOLD),{},{label:e.newSafeThreshold})),Object(ct.f)(J,Object(o.a)({},e)),a(e)},testId:"create-safe-form",trackingCategory:Z.a,children:[Object(ee.jsx)(A.a,{label:"Connect wallet & select network",nextButtonLabel:"Continue",disableNextButton:R,children:Object(ee.jsx)(ta,{})}),Object(ee.jsx)(A.a,{label:"Name",nextButtonLabel:"Continue",children:Object(ee.jsx)(le,{})}),Object(ee.jsx)(A.a,{label:"Owners and Confirmations",nextButtonLabel:"Continue",children:Object(ee.jsx)(Re,{})}),Object(ee.jsx)(A.a,{label:"Review",nextButtonLabel:"Create",children:Object(ee.jsx)(Ze,{})})]})]})})};function na(e,t,n,a){return aa.apply(this,arguments)}function aa(){return aa=Object(u.a)(l.a.mark((function e(t,n,a,r){var c,i,d,j,b,f,O,h,p,x,m,g,w,y,S,C;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=v.a.parse(a.search,{arrayFormat:"comma"}),b=j.name,f=j.owneraddresses,O=j.ownernames,h=j.threshold,p=!!f,x=Array.isArray(f)?f:[f],m=p?x:[t],g=Array.isArray(O)?O:[O],w=[(null===(c=n[t])||void 0===c?void 0:c.name)||""],y=p?g:w,S=Number(h),C=h&&!Number.isNaN(h)&&S<=m.length&&S>0,e.t0=o.a,e.t1=o.a,e.t2=o.a,i={},Object(s.a)(i,L,r),Object(s.a)(i,z,b),Object(s.a)(i,B,C?h:1),Object(s.a)(i,D,m.map((function(e,t){return{nameFieldName:"owner-name-".concat(t),addressFieldName:"owner-address-".concat(t)}}))),e.t3=s.a,e.t4=i,e.t5=G,e.next=23,Promise.all(m.map(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s.a,e.t1={},e.t2=t,e.next=5,Object(X.l)(t);case 5:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 23:return e.t6=e.sent.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),t)}),{}),(0,e.t3)(e.t4,e.t5,e.t6),e.t7=i,e.t8=m.reduce((function(e,t,n){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},"owner-address-".concat(n),t))}),{}),e.t9=(0,e.t2)(e.t7,e.t8),e.t10=y.reduce((function(e,t,n){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},"owner-name-".concat(n),t))}),{}),e.t11=(0,e.t1)(e.t9,e.t10),e.t12={},e.t13=(d={},Object(s.a)(d,H,m.length),Object(s.a)(d,Y,Date.now()),d),e.abrupt("return",(0,e.t0)(e.t11,e.t12,e.t13));case 33:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}var ra=x.default.div(Jn||(Jn=Object(i.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),ca=Object(x.default)(O.a)($n||($n=Object(i.a)(["\n  color: ",";\n  padding: ",";\n  margin-right: 5px;\n"])),F.secondary,F.sm)}}]);
//# sourceMappingURL=53.ddc5964b.chunk.js.map