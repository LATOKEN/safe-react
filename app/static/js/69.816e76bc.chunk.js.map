{"version":3,"sources":["utils/events/settings.ts","routes/safe/components/Settings/style.ts","components/layout/Span/index.tsx","routes/safe/components/Settings/index.tsx"],"names":["SETTINGS","DETAILS","SAFE_NAME","event","GTM_EVENT","CLICK","action","APPEARANCE","PREPEND_PREFIXES","COPY_PREFIXES","INVERT_COLORS","OWNERS","REMOVE_SAFE","ADD_OWNER","EDIT_OWNER","REPLACE_OWNER","REMOVE_OWNER","THRESHOLD","CHANGE","META","SPENDING_LIMIT","NEW_LIMIT","RESET_PERIOD","REMOVE_LIMIT","LIMIT_REMOVED","SETTINGS_EVENTS","Object","entries","reduce","settings","key","value","addEventCategory","styles","createStyles","root","backgroundColor","borderRadius","sm","boxShadow","display","flexDirection","marginBottom","minHeight","screenSm","contents","width","container","flexGrow","height","position","links","textDecoration","marginRight","cursor","removeSafeBtn","alignItems","marginTop","counter","background","border","color","fontColor","lineHeight","margin","padding","xs","fontSize","Span","this","props","children","React","Advanced","lazy","SpendingLimitSettings","ManageOwners","RemoveSafeModal","SafeDetails","ThresholdSettings","Appearance","SafeAppsPermissions","OWNERS_SETTINGS_TAB_TEST_ID","INITIAL_STATE","showRemoveSafe","useStyles","makeStyles","Settings","settingsSection","classes","useState","state","setState","useSafeAddress","shortName","safeAddress","useSelector","currentSafeWithNames","owners","loadedViaUrl","granted","grantedSelector","matchSafeWithSettingSection","useRouteMatch","SAFE_SUBSECTION_ROUTE","currentSafeRoutes","generatePrefixedAddressRoutes","url","SETTINGS_DETAILS","SETTINGS_APPEARANCE","SETTINGS_OWNERS","SETTINGS_POLICIES","SETTINGS_SPENDING_LIMIT","SETTINGS_ADVANCED","SETTINGS_SAFE_APPS_PERMISSIONS","Col","start","iconType","text","end","Track","ButtonLink","className","onClick","prevState","size","type","tooltip","isOpen","onClose","onHide","Block","layout","path","SAFE_ROUTES","exact","render","to"],"mappings":"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","file":"static/js/69.816e76bc.chunk.js","sourcesContent":["import { GTM_EVENT } from 'src/utils/googleTagManager'\nimport { addEventCategory } from 'src/utils/events/utils'\n\nconst SETTINGS = {\n  DETAILS: {\n    SAFE_NAME: {\n      event: GTM_EVENT.CLICK,\n      action: 'Name Safe',\n    },\n  },\n  APPEARANCE: {\n    PREPEND_PREFIXES: {\n      event: GTM_EVENT.CLICK,\n      action: 'Prepend EIP-3770 prefixes',\n    },\n    COPY_PREFIXES: {\n      event: GTM_EVENT.CLICK,\n      action: 'Copy EIP-3770 prefixes',\n    },\n    INVERT_COLORS: {\n      event: GTM_EVENT.CLICK,\n      action: 'Invert colors',\n    },\n  },\n  OWNERS: {\n    REMOVE_SAFE: {\n      event: GTM_EVENT.CLICK,\n      action: 'Remove Safe',\n    },\n    ADD_OWNER: {\n      event: GTM_EVENT.CLICK,\n      action: 'Add owner',\n    },\n    EDIT_OWNER: {\n      event: GTM_EVENT.CLICK,\n      action: 'Edit owner',\n    },\n    REPLACE_OWNER: {\n      event: GTM_EVENT.CLICK,\n      action: 'Replace owner',\n    },\n    REMOVE_OWNER: {\n      event: GTM_EVENT.CLICK,\n      action: 'Remove owner',\n    },\n  },\n  THRESHOLD: {\n    CHANGE: {\n      event: GTM_EVENT.CLICK,\n      action: 'Change threshold',\n    },\n    OWNERS: {\n      event: GTM_EVENT.META,\n      action: 'Owners',\n    },\n    THRESHOLD: {\n      event: GTM_EVENT.META,\n      action: 'Threshold',\n    },\n  },\n  SPENDING_LIMIT: {\n    NEW_LIMIT: {\n      event: GTM_EVENT.CLICK,\n      action: 'New spending limit',\n    },\n    RESET_PERIOD: {\n      event: GTM_EVENT.META,\n      action: 'Spending limit reset period',\n    },\n    REMOVE_LIMIT: {\n      event: GTM_EVENT.CLICK,\n      action: 'Remove spending limit',\n    },\n    LIMIT_REMOVED: {\n      event: GTM_EVENT.CLICK,\n      action: 'Spending limit removed',\n    },\n  },\n}\n\nconst SETTINGS_CATEGORY = 'settings'\nexport const SETTINGS_EVENTS: Record<string, ReturnType<typeof addEventCategory>> = Object.entries(SETTINGS).reduce(\n  (settings, [key, value]) => ({ ...settings, [key]: addEventCategory(value, SETTINGS_CATEGORY) }),\n  {},\n)\n","import { createStyles } from '@material-ui/core'\n\nimport { border, fontColor, screenSm, sm, xs } from 'src/theme/variables'\n\nexport const styles = createStyles({\n  root: {\n    backgroundColor: 'white',\n    borderRadius: sm,\n    boxShadow: '1px 2px 10px 0 rgba(212, 212, 211, 0.59)',\n    display: 'flex',\n    flexDirection: 'column',\n    marginBottom: '54px',\n    minHeight: '505px',\n\n    [`@media (min-width: ${screenSm}px)`]: {\n      flexDirection: 'row',\n    },\n  },\n  contents: {\n    width: '100%',\n  },\n  container: {\n    flexGrow: 1,\n    height: '100%',\n    position: 'relative',\n  },\n  links: {\n    textDecoration: 'underline',\n    marginRight: '6px',\n    '&:hover': {\n      cursor: 'pointer',\n    },\n  },\n  removeSafeBtn: {\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: '-1px', // to make it the same as row in Balances component\n  },\n  counter: {\n    background: border,\n    borderRadius: '3px',\n    color: fontColor,\n    lineHeight: 'normal',\n    margin: `-2px 0 -2px ${sm}`,\n    padding: xs,\n    fontSize: '11px',\n  },\n})\n","import * as React from 'react'\n\nclass Span extends React.PureComponent<any> {\n  render(): React.ReactElement {\n    const { children, ...props } = this.props\n\n    return <span {...props}>{children}</span>\n  }\n}\n\nexport default Span\n","import { Breadcrumb, BreadcrumbElement, Loader, Icon, Menu } from '@gnosis.pm/safe-react-components'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useState, lazy } from 'react'\nimport { useSelector } from 'react-redux'\nimport { Redirect, Route, Switch, useRouteMatch } from 'react-router-dom'\n\nimport { LoadingContainer } from 'src/components/LoaderContainer'\nimport { styles } from './style'\nimport Block from 'src/components/layout/Block'\nimport ButtonLink from 'src/components/layout/ButtonLink'\nimport Col from 'src/components/layout/Col'\nimport Span from 'src/components/layout/Span'\nimport { currentSafeWithNames } from 'src/logic/safe/store/selectors'\nimport { grantedSelector } from 'src/routes/safe/container/selector'\nimport { generatePrefixedAddressRoutes, SAFE_ROUTES, SAFE_SUBSECTION_ROUTE } from 'src/routes/routes'\nimport { SETTINGS_EVENTS } from 'src/utils/events/settings'\nimport Track from 'src/components/Track'\nimport useSafeAddress from 'src/logic/currentSession/hooks/useSafeAddress'\n\nconst Advanced = lazy(() => import('./Advanced'))\nconst SpendingLimitSettings = lazy(() => import('./SpendingLimit'))\nconst ManageOwners = lazy(() => import('./ManageOwners'))\nconst RemoveSafeModal = lazy(() => import('./RemoveSafeModal'))\nconst SafeDetails = lazy(() => import('./SafeDetails'))\nconst ThresholdSettings = lazy(() => import('./ThresholdSettings'))\nconst Appearance = lazy(() => import('./Appearance'))\nconst SafeAppsPermissions = lazy(() => import('./SafeAppsPermissions'))\n\nexport const OWNERS_SETTINGS_TAB_TEST_ID = 'owner-settings-tab'\n\nconst INITIAL_STATE = {\n  showRemoveSafe: false,\n}\n\nconst useStyles = makeStyles(styles)\n\nconst Settings = (): React.ReactElement => {\n  const classes = useStyles()\n  const [state, setState] = useState(INITIAL_STATE)\n  const { shortName, safeAddress } = useSafeAddress()\n  const { owners, loadedViaUrl } = useSelector(currentSafeWithNames)\n  const granted = useSelector(grantedSelector)\n\n  // Question mark makes matching [SAFE_SUBSECTION_SLUG] optional\n  const matchSafeWithSettingSection = useRouteMatch(`${SAFE_SUBSECTION_ROUTE}?`)\n\n  const currentSafeRoutes = generatePrefixedAddressRoutes({\n    shortName,\n    safeAddress,\n  })\n\n  let settingsSection\n  switch (matchSafeWithSettingSection?.url) {\n    case currentSafeRoutes.SETTINGS_DETAILS:\n      settingsSection = 'Safe Details'\n      break\n    case currentSafeRoutes.SETTINGS_APPEARANCE:\n      settingsSection = 'Appearance'\n      break\n    case currentSafeRoutes.SETTINGS_OWNERS:\n      settingsSection = 'Owners'\n      break\n    case currentSafeRoutes.SETTINGS_POLICIES:\n      settingsSection = 'Policies'\n      break\n    case currentSafeRoutes.SETTINGS_SPENDING_LIMIT:\n      settingsSection = 'Spending Limit'\n      break\n    case currentSafeRoutes.SETTINGS_ADVANCED:\n      settingsSection = 'Advanced'\n      break\n    case currentSafeRoutes.SETTINGS_SAFE_APPS_PERMISSIONS:\n      settingsSection = 'Safe Apps permissions'\n      break\n    default:\n      settingsSection = ''\n  }\n\n  const onShow = (action) => () => {\n    setState((prevState) => ({ ...prevState, [`show${action}`]: true }))\n  }\n\n  const onHide = (action) => () => {\n    setState((prevState) => ({ ...prevState, [`show${action}`]: false }))\n  }\n\n  const { showRemoveSafe } = state\n\n  return !owners ? (\n    <LoadingContainer>\n      <Loader size=\"md\" />\n    </LoadingContainer>\n  ) : (\n    <>\n      <Menu>\n        <Col start=\"sm\" sm={6} xs={12}>\n          <Breadcrumb>\n            <BreadcrumbElement iconType=\"settings\" text=\"SETTINGS\" />\n            <BreadcrumbElement text={settingsSection} color=\"placeHolder\" />\n          </Breadcrumb>\n        </Col>\n        {!loadedViaUrl ? (\n          <Col end=\"sm\" sm={6} xs={12}>\n            <Track {...SETTINGS_EVENTS.OWNERS.REMOVE_SAFE}>\n              <ButtonLink className={classes.removeSafeBtn} color=\"error\" onClick={onShow('RemoveSafe')} size=\"lg\">\n                <Span className={classes.links}>Remove Safe</Span>\n                <Icon size=\"sm\" type=\"delete\" color=\"error\" tooltip=\"Remove Safe\" />\n              </ButtonLink>\n            </Track>\n            <RemoveSafeModal isOpen={showRemoveSafe} onClose={onHide('RemoveSafe')} />\n          </Col>\n        ) : (\n          <Col end=\"sm\" sm={6} xs={12} />\n        )}\n      </Menu>\n      <Block className={classes.root}>\n        <Col className={classes.contents} layout=\"column\">\n          <Block className={classes.container}>\n            <Switch>\n              <Route path={SAFE_ROUTES.SETTINGS_DETAILS} exact render={() => <SafeDetails />} />\n              <Route path={SAFE_ROUTES.SETTINGS_APPEARANCE} exact render={() => <Appearance />} />\n              <Route\n                path={SAFE_ROUTES.SETTINGS_OWNERS}\n                exact\n                render={() => <ManageOwners granted={granted} owners={owners} />}\n              />\n              <Route path={SAFE_ROUTES.SETTINGS_POLICIES} exact render={() => <ThresholdSettings />} />\n              <Route path={SAFE_ROUTES.SETTINGS_SPENDING_LIMIT} exact render={() => <SpendingLimitSettings />} />\n              <Route path={SAFE_ROUTES.SETTINGS_ADVANCED} exact render={() => <Advanced />} />\n              <Route path={SAFE_ROUTES.SETTINGS_SAFE_APPS_PERMISSIONS} exact render={() => <SafeAppsPermissions />} />\n              <Redirect to={SAFE_ROUTES.SETTINGS_DETAILS} />\n            </Switch>\n          </Block>\n        </Col>\n      </Block>\n    </>\n  )\n}\n\nexport default Settings\n"],"sourceRoot":""}